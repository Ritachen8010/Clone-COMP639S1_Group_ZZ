{% extends 'base.html' %}

{% block title %}Manager - Dashboard{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-block"></div>
    <div class="greeting text-black">Hello,<span>{{ manager_info.first_name | capitalize }} {{ manager_info.last_name | capitalize }}</span>!
        <p>User Type: {{ session['UserType'] | capitalize }}</p>
    </div>

    <div class="content-wrapper">
        <div class="da-left-column">
            <div class="da-small-block">
                <h2>Management Tools</h2>
                <div class="btn-group-vertical btn-group-sm" role="group" aria-label="Management Buttons">
                    <button class="btn btn-primary" onclick="manageInstructors()">Manage Members</button>
                    <button class="btn btn-primary" onclick="manageInstructors()">Manage Instructors</button>
                    <button class="btn btn-primary" onclick="manageInstructors()">Members Subscription</button>
                    <button class="btn btn-primary" onclick="manageInstructors()">Manage Class Timetable</button>
                    <button class="btn btn-primary" onclick="manageInstructors()">Manage Swimming Instructors Lesson Schedule</button>
                    <button class="btn btn-primary" onclick="manageInstructors()">Manage Payment</button>
                    <button class="btn btn-primary" onclick="manageLessons()">View Lesson Booking Details</button>
                    <button class="btn btn-primary" onclick="manageLessons()">View Attendance</button>
                    <button class="btn btn-primary" onclick="manageLessons()">News</button>
                    <button class="btn btn-primary" onclick="manageLessons()">Report</button>
                    <!-- name changed to my profile -->
                    <a href="{{ url_for('manage_profile') }}" class="btn btn-primary">My Profile</a>
                </div>
            </div>

            <div class="da-small-block text-black">
                <h2>Today's Schedule</h2>
                <ul class="da-ul">
                    <li class="da-li">10:00 AM - Swimming Class</li>
                    <li class="da-li">2:00 PM - Aqua Aerobics</li>
                </ul>
            </div>

            <div class="da-small-block text-black">
                <h2>Notifications</h2>
                <p>You have 1 new booking for a Swimming Class tomorrow.</p>
            </div>

            <div class="da-small-block text-black">
                <h2>News</h2>
                <ul class="da-ul">
                    <li class="da-li">2:00 PM - Aqua Aerobics</li>
                </ul>
            </div>
        </div> <!-- End of left-column -->

        <div class="right-column">
            <div class="da-large-block text-black">
                <h2>Timetable - Aerobics Classes</h2>
                <table class="timetable text-black">
                    <thead>
                        <tr>
                            <th>Time</th>
                            <th>Monday</th>
                            <th>Tuesday</th>
                            <th>Wednesday</th>
                            <th>Thursday</th>
                            <th>Friday</th>
                            <th>Saturday</th>
                            <th>Sunday</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'] %}
                        {% for time, classes in timetable.items() %}
                        <tr>
                            <td>{{ time }}</td>
                            {% for day in days %}
                            <td>
                                {% set class_info = classes.get(day, {}) %}
                                <strong>{{ class_info.get('name', '') }}</strong><br>
                                {{ class_info.get('description', '') | title }}<br>
                                <span class="text-decoration-underline text-primary">{{ class_info.get('instructor', '') }}</span>
                            </td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                        <th colspan="8" class="text-start">
                            *All classes have a maximum capacity of 15 people.
                            <br>
                            *All classes to be held in deep pool.
                        </th>
                    </tbody>
                </table>
            </div>
            <div class="da-large-block text-black">
                <h2>My Events</h2>
                <ul class="da-ul">
                    <li class="da-li">123</li>
                </ul>
            </div>
        </div> <!-- End of right-column -->
    </div> <!-- End of content-wrapper -->
</div> <!-- End of dashboard-container -->
{% endblock %}